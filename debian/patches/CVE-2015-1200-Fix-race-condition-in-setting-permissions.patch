From 31ac8e5bd6a437a5e1acd8e1a3c1c8f2b514629f Mon Sep 17 00:00:00 2001
From: Holger Levsen <holger@layer-acht.org>
Date: Tue, 27 Jan 2015 12:29:50 +0100
Subject: [PATCH] CVE-2015-1200 

Fix race condition in setting permissions. (Closes: #775306) 
Thanks to Moritz MÃ¼hlenhoff for the patch.

---
 pxz.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/pxz.c b/pxz.c
index cfdb172..9404f0b 100644
--- a/pxz.c
+++ b/pxz.c
@@ -285,6 +285,7 @@ int main( int argc, char **argv ) {
 		}
 		
 		fo = stdout;
+		umask(077);
 		if ( std_in ) {
 			fi = stdin;
 		} else {
-- 
1.9.1

